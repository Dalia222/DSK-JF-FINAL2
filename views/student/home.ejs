<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" />

  <script src="https://kit.fontawesome.com/0b0cd0c012.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/css/student/home.css" />
  <link rel="stylesheet" href="/css/student/nav.css" />
  <link rel="stylesheet" href="/css/student/footer.css" />

  <title>Student Page</title>
</head>

<body>
  <%- include("./partials/nav.ejs") %>
    <main>
      <!-- Main Body Section -->
      <div class="main_body">
        <div class="container">
          <div class="main_details">
            <div class="left-card">
              <h1>Latest updates</h1>
              <div class="update-details">
                <h2>
                  <%= courseTitles.instructorId %> Dr. Essam added new Material
                </h2>
                <p class="update-type">New Content: Useful links</p>
                <p class="update-description">
                  Description: Dear students, I've uploaded new useful material
                  to help you with your project. Best of luck.
                </p>
              </div>
              <div class="buttons">
                <button class="btn1">View details</button>
                <button class="btn2">Go to course</button>
              </div>
              <div class="update-details">
                <h2>Dr. Ashraf added new Submission</h2>
                <p class="update-type">New Content: Submission</p>
                <p class="update-description">
                  Description: Dear students, Submission for phase 1 is
                  available now for your project. Best of luck.
                </p>
                <p class="update-deadline">Deadline: 23/6/2023</p>
              </div>
              <div class="buttons">
                <button class="btn1">View details</button>
                <button class="btn2">Go to course</button>
              </div>
            </div>
          </div>
        </div>
        <!-- Sidebar Requests Section -->
        <div class="sidebar">
          <div class="row">
            <h2>Latest Requests</h2>
          </div>
          <div class="requests">
            <div class="card">
              <div class="details">
                <h3>Request from: Dalia</h3>
                <p>Project: algorithms & Analysis</p>
              </div>
              <div class="buttons">
                <button class="accept-btn">Accept</button>
                <button class="reject-btn">Reject</button>
              </div>
            </div>
            <div class="card">
              <div class="details">
                <h3>Request from: Farid</h3>
                <p>Project: Web Development</p>
              </div>
              <div class="buttons">
                <button class="accept-btn">Accept</button>
                <button class="reject-btn">Reject</button>
              </div>
            </div>
          </div>
          <a href="#">See all</a>
        </div>
      </div>
      <section class="jokes">
        <div class="jokes-card">
          <p>Chuck Norris Jokes</p>
          <div id="cnjokes"></div>
          <button id="generate">Generate</button>
        </div>
      </section>
    </main>

    <!-- footer  -->
    <%- include("./partials/footer.ejs") %>

      <!-- Jokes API -->
      <script>
        const generateButton = document.getElementById("generate");
        const jokesContainer = document.querySelector("#cnjokes");

        function fetchJoke() {
          fetch("https://api.chucknorris.io/jokes/random")
            .then((response) => response.json())
            .then((joke) => {
              const jokeElement = `<p class="joke">${joke.value}</p>`;
              jokesContainer.innerHTML = jokeElement;
            })
            .catch((error) => {
              console.error("Error fetching joke:", error);
            });
        }

        generateButton.addEventListener("click", fetchJoke);
      </script>
</body>

</html>