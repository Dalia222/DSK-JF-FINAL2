<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- nav css -->
  <link rel="stylesheet" href="/css/instructor/nav.css" />
  <!-- inner-course css -->
  <link rel="stylesheet" href="/css/instructor/course.css" />
  <title>Instructor course</title>

</head>

<body>
  <%- include("./nav.ejs") %>
    <main>
      <section>
        <div class="my-course">
          <input type="text" name="title" class="title" id="title" value="Course Title" readonly />
          <i class="fa-solid fa-pencil" onclick="editTitle()"></i>
        </div>
        <div class="course">
          <ul>
            <li id="add-material-btn" onclick="materialForm()">
              +Add Material
            </li>
            <li id="add-project-btn" onclick="projectForm()">+Add Project</li>
          </ul>
          <!-- temp section student  -->
          <section>
            <% if (students.length) {%>
              <table>
                <tr>
                  <th></th>
                  <th>Name</th>
                  <th>Add</th>
                </tr>

                <% students.forEach(item=> {%>
                  <tr class="user" id="user">
                    <td>
                      <input type="checkbox" class="checkbox" />
                      <div class="right-and-wrong" style="display: none">
                        <i class="fa-solid fa-check" style="color: green; cursor: pointer"></i>
                        <i class="fa-solid fa-xmark" style="color: red; cursor: pointer"></i>
                      </div>
                    </td>
                    <td>
                      <div class="container">
                        <input type="text" value="<%= item.firstName +" "+ item.lastName
                %>" readonly />
                      </div>
                    </td>

                    <td class="<%= item.isBanned ? `banned` : `active` %>">
                      <span><%- item.isBanned ? "Baned" : "Active" %></span>
                    </td>

                    <td><a
                        href="/Instructor/<%= instructorId %>/<%=courseId %>/<%=item.id %>/add"
                        onclick="addStudent()">add</a></td>
                  </tr>
                  <%}); %>
              </table>
              <% } %>
          </section>
          <!-- remove extra class -->
          <div class="add-material">
            <div class="add-material-form" id="material">
              <form action="post">
                <div>
                  <label for="type" class="form-label">Choose the type of Material:</label>
                  <input type="radio" name="type" id="links" onchange="linkInput()" />
                  <label for="links">Link</label>
                  <input type="radio" name="type" id="document" onchange="documentInput()" />
                  <label for="document">Document</label>
                  <!-- add the course and project with the deadline  -->
                  <input type="radio" name="type" id="deadlines" onchange="submissionInput()" />
                  <label for="deadlines">Deadlines</label>
                  <!-- ---------------- -->
                  <input type="radio" name="type" id="assignments" onchange="assignmentInput()" />
                  <label for="assignments">Assignments</label>
                </div>
                <div>
                  <label for="title" class="form-label">Material Title:</label>
                  <input type="text" name="" id="" placeholder="Enter The Title here" />
                </div>
                <div>
                  <label for="content" class="form-label">Content:</label>
                  <input type="text" name="" id="inputType" />
                </div>
                <button>Add</button>
              </form>
            </div>
          </div>
          <div class="add-project">
            <div class="add-project-form" id="project">
              <form action="/instructor/<%= instructorId %>/<%=courseId %>" method="post">
                <fieldset>
                  <legend><span class="number">1</span> Project Info</legend>

                  <label for="title">Project title:</label>
                  <input type="text" id="title" name="title" />

                  <label for="Deadline">Deadline:</label>
                  <input type="date" id="deadline" name="deadline" />
                </fieldset>
                <fieldset>
                  <legend><span class="number">2</span> Project details</legend>

                  <label for="description">Description:</label>
                  <textarea id="description" name="description"></textarea>
                  <div>
                    <label for="numberOfStudentsPerTeam">Number of team members:</label>
                    <select name="numberOfStudentsPerTeam" id="numberOfStudentsPerTeam">
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5">5</option>
                    </select>
                  </div>
                  <div>
                    <label for="noOfPhases">Number of phases:</label>
                    <select name="noOfPhases" id="noOfPhases">
                      <option value="1">1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                    </select>
                  </div>

                  <label>Rquirments file:</label>
                  <input type="file" name="requirementsFile" />
                </fieldset>

                <button type="submit" id="submit">Submit</button>
                <button type="clear" id="clear">Clear</button>
              </form>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- font-awesome -->
    <script src="https://kit.fontawesome.com/0b0cd0c012.js" crossorigin="anonymous"></script>

    <!-- profile menu -->
    <script>
      let menu = document.getElementById("profileMenu");

      function showMenu() {
        menu.classList.toggle("active-list");
      }
      document.addEventListener("click", function (e) {
        if (
          menu.classList.contains("active-list") &&
          !menu.contains(e.target) &&
          !document.getElementById("profilePic").contains(e.target)
        ) {
          menu.classList.remove("active-list");
        }
      });
    </script>

    <!-- nav on scroll -->
    <script>
      onscroll = () => {
        if (window.scrollY > 5) {
          document.getElementById("nav").classList.add("scroll");
        } else {
          document.getElementById("nav").classList.remove("scroll");
        }
      };
    </script>

    <!-- search -->
    <script>
      const search = document.querySelector(".search");
      const btn = document.querySelector(".btn");
      const input = document.querySelector(".input");

      btn.addEventListener("click", () => {
        search.classList.toggle("active");
        input.focus();
      });
    </script>

    <!-- editable title -->
    <script>
      function editTitle() {
        document.getElementById("title").removeAttribute("readonly");
        document.getElementById("title").style.border = "1px solid black";
      }
    </script>

    <!-- function show input -->
    <script>
      const inputType = document.getElementById("inputType");
      function linkInput() {
        document.getElementById("inputType").type = "text";
      }
      function documentInput() {
        document.getElementById("inputType").type = "file";
      }
      function submissionInput() {
        document.getElementById("inputType").type = "date";
      }
    </script>

    <!-- show material-project-deadline -->
    <script>
      function materialForm() {
        document.getElementById("material").classList.add("show");
        document.getElementById("project").classList.remove("show");

        document.getElementById("add-material-btn").classList.add("active");
        document.getElementById("add-project-btn").classList.remove("active");
        document.getElementById("add-activity-btn").classList.remove("active");
      }
      function projectForm() {
        document.getElementById("project").classList.add("show");
        document.getElementById("material").classList.remove("show");
        console.log(document.getElementById("project"));

        document.getElementById("add-project-btn").classList.add("active");
        document.getElementById("add-material-btn").classList.remove("active");
        document.getElementById("add-activity-btn").classList.remove("active");
      }
      function activityForm() {
        document.getElementById("project").classList.remove("show");
        document.getElementById("material").classList.remove("show");

        document.getElementById("add-material-btn").classList.remove("active");
        document.getElementById("add-project-btn").classList.remove("active");
        document.getElementById("add-activity-btn").classList.add("active");
      }
    </script>
    <!-- for adding a student -->

    </script>
</body>

</html>